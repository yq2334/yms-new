(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["packageA/pages/transfer/zone"],{556:function(n,e,t){"use strict";(function(n,e){var o=t(4);t(26);o(t(25));var r=o(t(557));n.__webpack_require_UNI_MP_PLUGIN__=t,e(r.default)}).call(this,t(1)["default"],t(2)["createPage"])},557:function(n,e,t){"use strict";t.r(e);var o=t(558),r=t(560);for(var u in r)["default"].indexOf(u)<0&&function(n){t.d(e,n,(function(){return r[n]}))}(u);t(562),t(564);var i,a=t(50),s=Object(a["default"])(r["default"],o["render"],o["staticRenderFns"],!1,null,"38b40eff",null,!1,o["components"],i);s.options.__file="packageA/pages/transfer/zone.vue",e["default"]=s.exports},558:function(n,e,t){"use strict";t.r(e);var o=t(559);t.d(e,"render",(function(){return o["render"]})),t.d(e,"staticRenderFns",(function(){return o["staticRenderFns"]})),t.d(e,"recyclableRender",(function(){return o["recyclableRender"]})),t.d(e,"components",(function(){return o["components"]}))},559:function(n,e,t){"use strict";var o;t.r(e),t.d(e,"render",(function(){return r})),t.d(e,"staticRenderFns",(function(){return i})),t.d(e,"recyclableRender",(function(){return u})),t.d(e,"components",(function(){return o}));try{o={uNavbar:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-navbar/u-navbar")]).then(t.bind(null,832))},uTabs:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-tabs/u-tabs")]).then(t.bind(null,938))},uInput:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-input/u-input")]).then(t.bind(null,766))},uIcon:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(t.bind(null,862))},"u-Input":function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u--input/u--input")]).then(t.bind(null,879))},"u-Image":function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u--image/u--image")]).then(t.bind(null,737))},uButton:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-button/u-button")]).then(t.bind(null,790))}}}catch(a){if(-1===a.message.indexOf("Cannot find module")||-1===a.message.indexOf(".vue"))throw a;console.error(a.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var r=function(){var n=this,e=n.$createElement,t=(n._self._c,{"border-radius":"20rpx",height:"90rpx"});n._isMounted||(n.e0=function(e){return n.$mHelper.goBack()}),n.$mp.data=Object.assign({},{$root:{a0:t}})},u=!1,i=[];r._withStripped=!0},560:function(n,e,t){"use strict";t.r(e);var o=t(561),r=t.n(o);for(var u in o)["default"].indexOf(u)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(u);e["default"]=r.a},561:function(n,e,t){"use strict";(function(n,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(195),u={data:function(){return{current:0,tabs:[{name:"区间调拨",val:0,url:"/packageA/pages/transfer/zone"},{name:"选择调拨",val:1,url:"/packageA/pages/transfer/zone-select"}],select_agent:{bianhao:"",mingchneg:"",mobile:""},form:{startSN:"",endSN:""},loading:!1}},components:{},onReady:function(){},onLoad:function(){},methods:{selectAgent:function(){this.$tab.navigateTo("/packageA/pages/agent/query?select="+this.select_agent.bianhao)},handleSelectAgent:function(n){console.log(n),this.select_agent=n},click:function(n){this.current=n.val,this.$tab.redirectTo(n.url)},scan:function(e){var t=this;n.scanCode({scanType:["qrCode","barCode"],success:function(n){console.log("条码类型："+n.scanType),console.log("条码内容："+n.result),t.checkSN(n.result)&&(t.form[e]=n.result)}})},getH5ScanData:function(){var n=this,e=window.location.href.split("#")[0];(0,r.getWx_SaoMa)({url:e,api:["scanQRCode"]}).then((function(e){if("00"==e.code){var t=e;n.wx_sanCode(t)}}))},wx_sanCode:function(n){o.config({debug:!1,appId:n.appId,timestamp:n.timestamp,nonceStr:n.nonceStr,signature:n.signature,jsApiList:["scanQRCode"]}),o.ready((function(){o.checkJsApi({jsApiList:["scanQRCode"],success:function(n){}})})),o.error((function(n){console.log(n,"接口验证失败")}))},bindsaoQRcode:function(n){var e=this;o.scanQRCode({needResult:1,scanType:["qrCode","barCode"],success:function(t){if(t.resultStr.includes(",")){if(!e.checkSN(t.resultStr.split(",")[1]))return;e.form[n]=t.resultStr.split(",")[1]}else{if(!e.checkSN(t.resultStr))return;e.form[n]=t.resultStr}t.resultStr;console.log(e.$mHelper.getUrlParam("startSN")),console.log(e.$mHelper.getUrlParam("endSN"));e.$mHelper.getUrlParam("startSN"),e.$mHelper.getUrlParam("endSN");var o=window.location.href.split("?")[0]+"?startSN="+e.form.startSN+"&endSN="+e.form.endSN;window.location.replace(o)}})},checkSN:function(e){return!(e.length<this.snConfig.minsn||e.length>this.snConfig.maxsn)||(n.showModal({content:"机具号有误，请重新扫描",showCancel:!1}),!1)},submit:function(){var e=this;this.loading=!0,(0,r.setQujianHuabo)({dailishang:this.select_agent.bianhao,posfrom:this.form.startSN,posto:this.form.endSN}).then((function(t){e.loading=!1,"00"==t.code&&(n.showToast({title:"划拨成功",icon:"success"}),e.reset())}))},reset:function(){this.form.startSN="",this.form.endSN=""}}};e.default=u}).call(this,t(2)["default"],t(1)["default"])},562:function(n,e,t){"use strict";t.r(e);var o=t(563),r=t.n(o);for(var u in o)["default"].indexOf(u)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(u);e["default"]=r.a},563:function(n,e,t){},564:function(n,e,t){"use strict";t.r(e);var o=t(565),r=t.n(o);for(var u in o)["default"].indexOf(u)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(u);e["default"]=r.a},565:function(n,e,t){}},[[556,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/packageA/pages/transfer/zone.js.map